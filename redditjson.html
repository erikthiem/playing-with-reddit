<!DOCTYPE html>
<html>
    <head>
        <title>Testing the Reddit JSON Api</title>
    </head>

    <div id="jsonApp">

        <ul> 
            <li v-for="item in items"><a v-bind:href="item.url">{{ item.title }}</a></li>
        </ul>

    </div>
    
    <body>
    
        <script type="text/javascript" src="vue.js"></script>
        <script type="text/javascript" src="jquery.min.js"></script>
        <script type="text/javascript">

            var jsonApp = new Vue({

                el: "#jsonApp",

                data: {
                    name: "test",
                    items: []
                },
                
                mounted: function() {
                    this.loadSubreddit("askreddit");
                },
                methods: {
                    loadSubreddit: function(subreddit){
                        var self = this;
                        $.ajax({
                            url: "https://www.reddit.com/r/" + subreddit + ".json",
                            dataType: "json",
                            method: "GET",
                            success: function(data) {
                                var jsonData = data.data.children;
                                for (var i = 0; i < jsonData.length; i++)
                                {
                                    self.items.push(jsonData[i].data);
                                }
                            },
                            error: function(error) {
                                alert(JSON.stringify(error));
                            }
                        });

                    }
                }
            });

        </script>
    
    </body> 
</html>
